# LMeve Database Operations Sudoers Configuration
#
# This file allows the 'opsuser' account to run specific database
# operation scripts without requiring a password.
#
# Installation:
# 1. Copy this file to /etc/sudoers.d/lmeve_ops
# 2. Set proper permissions: chmod 440 /etc/sudoers.d/lmeve_ops
# 3. Verify syntax: visudo -c
#
# Security Notes:
# - Scripts are owned by root and only executable by root
# - User can only run specific whitelisted scripts
# - No shell access or arbitrary commands allowed

# Allow opsuser to run LMeve database scripts without password
# The NOPASSWD option is crucial for remote SSH execution
opsuser ALL=(ALL) NOPASSWD: /usr/local/lmeve/create-db.sh
opsuser ALL=(ALL) NOPASSWD: /usr/local/lmeve/import-sde.sh
opsuser ALL=(ALL) NOPASSWD: /usr/local/lmeve/import-schema.sh

# Alternative: if using a different username, replace 'opsuser' above
# webuser ALL=(ALL) NOPASSWD: /usr/local/lmeve/create-db.sh
# webuser ALL=(ALL) NOPASSWD: /usr/local/lmeve/import-sde.sh
# webuser ALL=(ALL) NOPASSWD: /usr/local/lmeve/import-schema.sh